## Проект парсинга PEP

### Описание

Этот проект предназначен для парсинга официальной документации Python и PEP-документов с сайта [peps.python.org](https://peps.python.org/).
Парсер позволяет собирать и анализировать информацию о PEP, их статусах, а также получать другие полезные данные из документации Python.

---

### Основные функции

- **pep** — парсинг всех PEP-документов:
  - Получение статуса каждого PEP с индивидуальной страницы.
  - Сравнение статуса с ожидаемым из общей таблицы.
  - Подсчёт количества PEP в каждом статусе и общего количества.
  - Логирование несовпадений статусов.
  - Сохранение результатов в CSV или вывод в консоль/таблицу.

- **whats-new** — сбор информации о новых возможностях Python по разделу "What's New":
  - Сбор ссылок, заголовков и авторов/редакторов для каждой версии.

- **latest-versions** — получение списка всех актуальных версий Python:
  - Сбор ссылок, версий и их статусов.

- **download** — автоматическая загрузка архива документации Python в формате PDF (A4):
  - Скачивание и сохранение архива в папку `downloads`.

---

### Структура проекта

- `src/main.py` — основной модуль, реализующий логику парсинга и CLI.
- `src/utils.py` — утилиты для работы с HTML и HTTP.
- `src/constants.py` — константы и настройки.
- `src/outputs.py` — функции для вывода и сохранения результатов (консоль, PrettyTable, CSV).
- `src/configs.py` — настройка логирования и парсера аргументов командной строки.
- `src/exceptions.py` — пользовательские исключения.
- `src/results/` — папка для сохранения CSV-файлов с результатами.
- `src/downloads/` — папка для скачанных архивов документации.
- `src/logs/` — папка для логов.

---

### Запуск проекта

#### Установка зависимостей

```bash
pip install -r requirements.txt
```

#### Запуск парсера

```bash
python src/main.py <mode> [опции]
```

**Доступные режимы (`mode`):**
- `pep` — анализ PEP-документов
- `whats-new` — что нового в Python
- `latest-versions` — список версий Python
- `download` — скачать документацию

**Примеры:**
```bash
python src/main.py pep --output file
python src/main.py whats-new --pretty
python src/main.py download
```

#### Опции командной строки

- `--output file` — сохранить результат в CSV-файл
- `--output pretty` — вывести результат в виде таблицы
- `--clear-cache` — очистить кэш запросов

---

### Логирование

Все события и несовпадения статусов PEP логируются в файл `src/logs/parser.log`.

---

### Тестирование

Для запуска тестов используйте:
```bash
pytest
```

---

### Примечания

- Для корректной работы парсера требуется интернет-соединение.
- При первом запуске парсера в режиме `pep` загрузка всех страниц может занять несколько минут.
- Все результаты сохраняются в папку `src/results/`, скачанные архивы — в `src/downloads/`.

---

**Авторы:**  
Тычин Денис Александрович